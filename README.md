# KaFlow-Py

基于 LangGraph 、LangChain 、RAGFlow 等 python 开源库开发一个 AI Agent 轻量级开发框架。只需要少量代码即可搭建一个 Agent

## 🏗️ 架构设计

KaFlow-Py 是一个**配置驱动**的 AI Agent 可视化开发框架，类似 n8n、Dify 的设计理念。通过 YAML 配置文件定义节点和连线，自动生成对应的 LangGraph 执行图。

### 整体架构
```
┌─────────────────────────────────────────────────────────────┐
│                   前端界面层 (Frontend)                      │
├─────────────────────────────────────────────────────────────┤
│  Visual Editor  │  Config Editor  │  Debug Console         │
│  (可视化编辑器)  │   (配置编辑器)   │   (调试控制台)          │
└─────────────────────────────────────────────────────────────┘
                                │
┌─────────────────────────────────────────────────────────────┐
│                   配置解析层 (Config Parser)                 │
├─────────────────────────────────────────────────────────────┤
│  YAML Parser    │  Schema Validator │  Graph Generator     │
│  (配置解析器)    │   (模式验证器)     │   (图生成器)         │
└─────────────────────────────────────────────────────────────┘
                                │
┌─────────────────────────────────────────────────────────────┐
│                   节点执行层 (Node Runtime)                  │
├─────────────────────────────────────────────────────────────┤
│  Agent Nodes    │  Tool Nodes     │  Logic Nodes          │
│  (Agent节点)    │   (工具节点)     │   (逻辑节点)           │
│  MCP Nodes      │  RAG Nodes      │  Custom Nodes         │
│  (MCP节点)      │   (RAG节点)      │   (自定义节点)         │
└─────────────────────────────────────────────────────────────┘
                                │
┌─────────────────────────────────────────────────────────────┐
│                   执行引擎层 (Execution Engine)              │
├─────────────────────────────────────────────────────────────┤
│  LangGraph      │  State Manager  │  Event System         │
│  (图执行引擎)    │   (状态管理)     │   (事件系统)           │
└─────────────────────────────────────────────────────────────┘
                                │
┌─────────────────────────────────────────────────────────────┐
│                   基础服务层 (Foundation Services)           │
├─────────────────────────────────────────────────────────────┤
│  LLM Services   │  Vector DB      │  Storage              │
│  (大模型服务)    │   (向量数据库)   │   (存储服务)           │
│  MCP Protocol   │  Memory Store   │  Message Queue        │
│  (MCP协议)      │   (记忆存储)     │   (消息队列)           │
└─────────────────────────────────────────────────────────────┘
```
